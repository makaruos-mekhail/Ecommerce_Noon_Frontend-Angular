
<section class="row container-fluid p-0 mx-0">

  <!-- //product images large screens -->
  <aside class="col-4 d-none d-md-block container-fluid" style="background-color: #f7f7fa;">
    <div class="row">
      <div class="col-3">
        <div *ngFor="let img of product?.productImages; let i = index" class="col-12" (click)="displayImg(i)">
          <div class="p-2">
            <img [id]="'id'+(i+1)" [src]="img.imagePath" alt="" height="100" width="100"
             style="border-radius: 20px; border: 1px solid aqua;" />
          </div>
        </div>
      </div>
        
      <div class="col-9 ">
        <div  class="row justify-content-center align-content-center p-2">
          <img id="main-product-imgggg" class="img-fluid zoom" [src]="product?.imagePath"
          style="border-radius: 20px; border: 1px solid rgb(96, 96, 96);height: 28em;width: 100%;"/>
        </div>
      </div>

      <!--  -->
      <!--  -->
    
    </div>
  </aside>
  <!-- smartphones -->
  <section class="col-12 d-sm-block d-md-none m-0 p-0 container-fluid">
    <div class="row">
      <div class="col-6">{{ lang==='en'? product?.brand?.name: product?.brand?.nameAr}}</div>
      <div class="col-6 smartphone-rate">
        
        <a href="" class="text-decoration-none px-1 rounded-pill col-5">{{product?.rate}} <i
            class="fa-solid fa-star"></i></a>
      </div>
    </div>
    <!-- images slider phone -->
    <div class="container-fluid">
      <div id="carouselExampleSlidesOnly col-8" class="carousel" data-bs-ride="carousel" Wrap="true">
        <div class="carousel-inner" *ngFor="let image of product?.productImages">
          <div class="carousel-item active" data-bs-interval="1000">
            <img [src]="image?.imagePath" class="d-block w-100" alt="..." />
          </div>
        </div>
      </div>
    </div>

    <!-- </div> -->
    <div class="row container-fluid m-0 my-1 p-0 align-items-center border" id="fixed-cart-section">
      <div class="col-2">
        <select class="form-select" (change)="selectQuantity($event)" aria-label="Default select example" *ngIf="product!=null ">
          <ng-container *ngFor="let item of Productquantity let i=index">
          <option *ngIf="product.quantity> i"> {{i+1}}</option>
        </ng-container>
        </select>
      </div>
      <div class="col-10">
        <button type="button" (click)="addToCart()" class="btn col-12 p-6 cart-button">
          <b [translate]="'Add-To-Cart'"></b>
        </button>
      </div>
    </div>

    <div class="row container-xl">
      <div class="col-6">
        <h4 class="d-inline-block">{{product?.price }}
          <span [translate]="'EGP'"></span>
        </h4>
        <span class="text-muted" style="font-size: 0.75em;" [translate]="'vat'"></span>
      </div>
      <div class="col-2"></div>
      <div class="col-2"><img src="assets/products/express.svg" alt="" /></div>
    </div>
    <!-- discount offer smartphone -->
    <div class="row container-xl" *ngIf="product!= undefined && product.discount >0">
      <div class="col-4 text-muted"><del>{{product.price|discountpipe:product.discount }}</del>
      <span [translate]="'EGP'"></span></div>
      <div class="col-2 p-0 savings-percentage">{{product.discount }}% off</div>
    </div>
    <div class="row container-xl">
      <div class="card border-0" style="border-radius: 0%;"></div>
        <div class="card-body" style="background-color: #fcfbf5;">
          <span><img src="assets/products/emi.svg" alt="" /></span>
          <span [translate]="'month-plan'">
            <span style="color: rgb(255, 174, 0); float: right;">
              <i class="fa-solid fa-greater-than"></i></span></span>
        </div>
      </div>
    <!-- </div> -->
    <div class="row container-xl">
      <div class="card-group p-0" style="display: inline-flex;">
        <!-- delivery card -->
        <!-- <div class="card col-6 border-0">
          <div class="card-body">
            <p class="card-tex">
              Delivery Between
              <b class="text-decoration-underline">Sun, 5 March - Mon, 6 March.</b>
            </p>
            <p class="card-text text-muted">Order in 23 hrs 12 mins</p>
          </div>
        </div> -->
        <div class="card col-6 border-0">
          <div class="card-body">
            <p class="card-text"><b [translate]="'deliver-2days'"></b></p>
            <p class="card-text"  [translate]="'select'">
               <b [translate]="'2daysd'"></b>
            </p>
          </div>
        </div>
      </div>
    </div>
    <!-- frequently bought to gether  -->
    <div class="row container-xl">
      <ul class="list-group list-group-flush">
        <li class="list-group-item">
          <div class="row">
            <div class="col-1 gx-2">
              <img src="assets/products/warrantly.svg" alt="" />
            </div>
            <div class="col-11">
              <p class="mb-0"[translate]="'1-y-waeantrly'"></p>
            </div>
          </div>
        </li>
        <li class="list-group-item">
          <div class="row">
            <div class="col-1 gx-2">
              <img src="assets/products/return.svg" alt="" />
            </div>
            <div class="col-11">
              <p class="mb-0"[translate]="'elligble'">
                 <strong [translate]="'free-Return'"> </strong>
              </p>
            </div>
          </div>
        </li>
        <li class="list-group-item">
          <div class="row">
            <div class="col-1 gx-2">
              <img src="assets/products/shipping.svg" alt="" />
            </div>
            <div class="col-11">
              <p class="mb-0" [translate]="'available-in-noon'">
              </p>
            </div>
          </div>
        </li>
        <li class="list-group-item">
          <div class="row">
            <div class="col-4">
              <div class="co-12 right-row2-img">
                <img src="assets/products/return.svg" alt="" />
              </div>
              <div class="col-12 right-row2-text">
                <p [translate]="'low-return'"></p>
              </div>
            </div>
            <div class="col-4" style="border-right: 1px solid #dee2e6;">
              <div class="col-12 right-row2-img">
                <img src="assets/products/grating.png" alt="" style="width: 25px;" />
              </div>
              <div class="col-12 right-row2-text" [translate]="'great-rating'"></div>
            </div>
            <div class="col-4">
              <div class="col-12 ad-descibed"><strong> 90% </strong></div>
              <div class="col-12" style="font-size: 0.8em;" [translate]="'product-as-describe'">
              </div>
            </div>
          </div>
        </li>
      </ul>
    </div>
  </section>
  <!--DESKTOP -->
  <section class="mt-2 container-fluid col-sm-12 col-md-5">
    <div class="col-12 d-md-block d-none text-muted">
      {{lang == 'en'? product?.brand?.name : product?.brand?.nameAr}}
    </div>
    <div class="col-12 d-md-block d-none">
      <h3>{{lang == 'en'? product?.name : product?.nameAr}}</h3>
    </div>
    <div class="col-12 d-md-block d-none desktop">
      
      <!-- rating icon  -->
      <span class="text-muted fw-bold">{{product?.modelNumber}}</span>
      <span class="text-decoration-none px-1 rounded-pill m-5 " style="float: right;"><span>{{product?.rate}}</span>
        <span><i class="fa-solid fa-star p-2"></i></span>
      </span>
    </div>

    <div class="col-12 d-md-block d-none">
      <h4 class="d-inline-block">{{product?.price }}
        <span [translate]="'EGP'"></span>
      </h4>
      <span class="text-muted"></span>
    </div>
    <div class="row container-xl" *ngIf="product!= undefined && product.discount >0">
      <div class="col-3 text-muted text-decoration-line-through">
        <h5>{{product.price|discountpipe:product.discount}}
          <span [translate]="'EGP'"></span>
        </h5>
      </div>
      <div class="col-2 p-0 savings-percentage">{{product.discount}}% off</div>
    </div>
    <div class="col-12 d-md-block d-none">
      <div class="card border-0" style="border-radius: 0%;">
        <div class="card-body" style="background-color: #fcfbf5;">
          <span><img src="assets/products/emi.svg" alt="" /></span>
          <span [translate]="'month-plan'"></span>
        </div>
      </div>
    </div>
    <div class="col-12 d-none d-md-block">
      <div class="card border-0" style="border-radius: 0%;">
        <div class="card-body" style="background-color: #f5f7fe;">
          <div class="outside-card-content d-flex">
            <div class="col5">
              <p class="text-muted" [translate]="'towdaysd'"></p>
              <h6 class="text-decoration-underline"[translate]="'free-delivey'"></h6>
            </div>

            <div class="col-4"></div>
            <div class="col-3 align-content-end">
              <img src="assets/products/express.svg" alt="" />
              <img src="assets/products/help.svg" alt="" />
            </div>
          </div>
          <!-- //inside card  -->
          <div class="card border-0" style="border-radius: 0%;">
            <div class="card-body">
              <!-- //inline  -->
              <span>
                <img src="assets/products/same_day_delivery.svg" alt="" /></span>
              <span>
                <p class="d-inline-block"[translate]="'Want-it-Today?-Select'">
                </p>
                 <strong [translate]="'Get-It-Today'"></strong>
              </span>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- cart -->
    <div class="row d-md-block d-none mb-5">
      <div class="row m-3 p-2">
        <div class="col-2">
          <div class="col-12 fw-bold text-center" [translate]="'quantity'"></div>

          <select class="form-select" (change)="selectQuantity($event)" aria-label="Default select example" *ngIf="product!=null ">
            <ng-container *ngFor="let item of Productquantity let i=index">
            <option *ngIf="product.quantity> i"> {{i+1}}</option>
          </ng-container>
          </select>
        </div>
        <div class="col-8">
          <button type="button" (click)="addToCart()" class="btn col-12 m-3 p-3 cart-button">
            <b [translate]="'Add-To-Cart'"></b>
          </button>
        </div>
        <div class="col-2" *ngIf="isLoggedIn">
          <div class="Favoite-button d-flex justify-content-center p-3 m-3">
            <i (click)="addToWishlist()" class="fa-solid fa-heart" [ngStyle]="{'color': iconColor}" (click)="toggleFavorite()"
              style="font-size: 2em;"></i>
          </div>
        </div>
      </div>
    </div>
  </section>
  <aside class="col-3 d-md-block d-none container-fluid">
    <div class="row">
      <div class="card" style="
          width: 100%;
          border-radius: 0%;
          border-right: transparent;
          border-bottom: transparent;
          border-top: tra;
        ">
        <ul class="list-group list-group-flush border-0">
          <li class="list-group-item">
            <div class="row">
              <div class="col-1 gx-2">
                <img src="assets/products/return.svg" alt="" />
              </div>
              <div class="col-11">
                <p class="mb-0" style="font-size: 0.8em;" [translate]="'hassle-free-returns'">
                 
                </p>
                <a href="" class="text-decoration-underline" [translate]="'Learn-More'"> </a>
              </div>
            </div>
          </li>
          <li class="list-group-item">
            <div class="row">
              <div class="col-1 gx-2">
                <img src="assets/products/warrantly.svg" alt="" />
              </div>
              <div class="col-11">
                <p class="mb-0" style="font-size: 0.8em;" [translate]="'1-y-waeantrly'"></p>
              </div>
            </div>
          </li>
          <li class="list-group-item">
            <div class="row">
              <div class="col-1 gx-2">
                <img src="assets/products/sold.svg" alt="" />
              </div>
              <div class="col-11">
                <p class="mb-0" style="font-size: 0.8em;" [translate]="'Sold-By'">
                  &nbsp;Sold By&nbsp;
                  <a href="" class="text-decoration-underline fw-bold" [translate]="'noon'">
                    noon
                  </a>
                </p>
                <a href="" class="text-decoration-none px-1 rounded-pill"
                  style="background-color: #82ae04; color: white;"><span>4.5</span>
                  <span><i class="fa-solid fa-star"></i></span>
                </a>
              </div>
            </div>
          </li>
          <li class="list-group-item">
            <div class="row">
              <div class="col-4">
                <img src="assets/products/return.svg" alt="" />
                <div class="col-12" style="
                    font-size: 0.75em;
                    font-weight: bold;
                    text-align: center;
                  ">
                  <p [translate]="'low-return'"></p>
                </div>
              </div>
              <div class="col-4" style="border-right: 1px solid #dee2e6;">
                <div class="col-12">
                  <img src="assets/products/grating.png" alt="" style="width: 25px;" />
                </div>
                <div class="col-12" style="
                    font-size: 0.75em;
                    font-weight: bold;
                    text-align: center;
                  " [translate]="'great-rating'">
               
                </div>
              </div>
              <div class="col-4 NavFont">
                <div class="col-12" style="color: #38ae04;">
                  <strong> 90% </strong>
                </div>
                <div class="col-12" style="font-size: 0.8em;" [translate]="'product-as-describe'">
                </div>
              </div>
            </div>
          </li>
          <li class="list-group-item">
            <div class="row">
              <div class="col-2 gx-2">
                <span><img src="assets/products/free_returns_usp.svg" alt="" /></span>
              </div>
              <div class="col-10">
                <p class="mb-0" style="font-size: 0.7em; font-weight: bold;" [translate]="'free-Return'">
                  
                </p>
                <p class="text-muted"[translate]="'items-elligble'"></p>
              </div>
            </div>
          </li>
          <li class="list-group-item">
            <div class="row">
              <div class="col-2 gx-2">
                <span><img src="assets/products/shipping.svg" alt="" /></span>
              </div>
              <div class="col-10">
                <p class="mb-0" style="font-size: 0.7em; font-weight: bold;"[translate]="'TRUSTED-SHIPPING'">
                </p>
                <p class="text-muted" [translate]="'Free-shipping'"> 
                </p>
              </div>
            </div>
          </li>
          <li class="list-group-item">
            <div class="row">
              <div class="col-2 gx-2">
                <span><img src="assets/products/secure_usp.svg" alt="" /></span>
              </div>
              <div class="col-10">
                <p class="mb-0" style="font-size: 0.7em; font-weight: bold;"[translate]="'SECURE-SHOPPING'">
                </p>
                <p class="text-muted" [translate]="'data-protected'"></p>
              </div>
            </div>
          </li>
        </ul>
      </div>
    </div>
  </aside>
  <!-- review and rating section -->
  <section class="container-fluid" style="margin-top: 4em !important;">
    <div class="row">
      <div class="col-5 col-md-2">
        <div class="d-flex justify-content-center">
          <h3 [translate]="'Overall-Rating'"></h3>
        </div>
        <div class="d-flex justify-content-center reviewRating">
          <h3 style="font-size: 2em;">{{product?.rate}}</h3>
        </div>
        <div class="d-flex justify-content-center">
          <a>
            <ng-container *ngFor="let i of [1, 2, 3, 4, 5]" >
              <i class="fa-{{product?.rate! >= i ? 'solid' : 'regular'}} fa-star rateStars"></i>
            </ng-container>
          </a>
        </div>
      </div>
      
      <!-- progress -->
      <div class="col-7 col-md-3">
        <div>
          <div class="progress rateProgress" role="progressbar" aria-label="Success example" aria-valuenow="25"
            aria-valuemin="0" aria-valuemax="100">
            <div class="progress-bar bg-success" style="width: 70%;"></div>
          </div>

          <div class="progress rateProgress" role="progressbar" aria-label="Info example" aria-valuenow="50"
            aria-valuemin="0" aria-valuemax="100">
            <div class="progress-bar bg-success" style="width: 50%;"></div>
          </div>
          <div class="progress rateProgress" role="progressbar" aria-label="Warning example" aria-valuenow="75"
            aria-valuemin="0" aria-valuemax="100">
            <div class="progress-bar bg-warning" style="width: 25%;"></div>
          </div>
          <div class="progress rateProgress" role="progressbar" aria-label="Danger example" aria-valuenow="100"
            aria-valuemin="0" aria-valuemax="100">
            <div class="progress-bar bg-danger" style="width: 10%;"></div>
          </div>
        </div>
      </div>
      <div class="col-6 col-md-3 txtFont text-center">
        <h5 [translate]="'review-question1'">
          <img src="assets\products\help.svg" /> 
        </h5>
        <p class="text-muted" style="line-height: 1;" [translate]="'review-answer1'">
       </p>
      </div>
      <div class="col-6 col-md-4 text-center txtFont">
        <h5 [translate]="'review-question2'">
          <img src="assets\products\help.svg" /> 
        </h5>
        <p class="text-muted" style="line-height: 1;" [translate]="'review-answer2'">
     
        </p>
      </div>
    </div>
    <!-- customer review -->
    <div class="row d-flex justify-content-center" style="padding: 2em; margin: 2em;">
      <h3>
        <button class="btn btn-outline-success" (click)="getReviws()" [translate]="'Customer-Reviews'">
        
        </button>
      </h3>
    </div>
    <div class="row p-3" *ngFor="let review of productReviews">
      <div class="col-2 d-flex justify-content-center align-items-center text-success fw-bold" style="
          width: 4em;
          height: 4em;
          background-color: #e2f6e2;
          border-radius: 50%;
        ">
        {{review?.user?.firstName?.slice(0,1)}}
      </div>
      <div class="col-10">
        <h6 style="color: #38ae04;">{{review.user.firstName}}</h6>
        {{review.review}}
        
        <div *ngIf="review.review =='Excellent '">
          <a *ngFor="let item of excellent">
            <i class="fa-solid fa-star rateStars" style="font-size: 0.7em;"></i>
          </a>
        </div>
        <div *ngIf="review.review =='Very Good'">
          <a *ngFor="let item of verygood">
            <i class="fa-solid fa-star rateStars" style="font-size: 0.7em;"></i>
          </a>
        </div>
        <div *ngIf="review.review =='Good'">
          <a *ngFor="let item of good">
            <i class="fa-solid fa-star rateStars" style="font-size: 0.7em;"></i>
          </a>
        </div>
      </div>
    </div>
  </section>
</section>